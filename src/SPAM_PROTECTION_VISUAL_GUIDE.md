# 🎨 Визуальное руководство: Защита от спама и Rate Limiting

## 🎯 Как это выглядит

---

## 1. RateLimitIndicator - Визуальные состояния

### Состояние 1: Всё хорошо (80-100% попыток)
```
┌─────────────────────────────────────┐
│                                     │
│  Индикатор НЕ показывается          │
│  Пользователь видит обычную форму   │
│                                     │
└─────────────────────────────────────┘
```

### Состояние 2: Информация (60-80% попыток)
```
┌──────────────────────────────────────────────────────┐
│ ⓘ  Внимание: осталось попыток              4 / 5    │
├──────────────────────────────────────────────────────┤
│ ████████████████████████░░░░                80%     │
│                                                      │
│ 🛡️ Проверьте правильность введенных данных.        │
└──────────────────────────────────────────────────────┘
Цвет: Синий (#3B82F6)
```

### Состояние 3: Предупреждение (40-60% попыток)
```
┌──────────────────────────────────────────────────────┐
│ ⚠️  Внимание: осталось попыток              3 / 5   │
├──────────────────────────────────────────────────────┤
│ ████████████░░░░░░░░░░░░░░░░░░░░             60%    │
│                                                      │
│ 🛡️ Будьте внимательны при вводе данных.            │
└──────────────────────────────────────────────────────┘
Цвет: Жёлтый (#F59E0B)
```

### Состояние 4: Опасность (0-40% попыток)
```
┌──────────────────────────────────────────────────────┐
│ ⚠️  Внимание: осталось попыток              1 / 5   │
├──────────────────────────────────────────────────────┤
│ ████░░░░░░░░░░░░░░░░░░░░░░░░░░░░░░           20%    │
│                                                      │
│ 🛡️ При превышении лимита доступ будет              │
│    заблокирован на 30 минут.                        │
└──────────────────────────────────────────────────────┘
Цвет: Красный (#EF4444)
```

### Состояние 5: ЗАБЛОКИРОВАНО
```
┌──────────────────────────────────────────────────────┐
│ 🚫 Доступ временно заблокирован                     │
├──────────────────────────────────────────────────────┤
│ Превышено максимальное количество попыток входа.    │
│                                                      │
│ ⏰ Попробуйте снова через: 28 мин                   │
└──────────────────────────────────────────────────────┘
Цвет: Тёмно-красный (#DC2626)
Кнопки: Disabled
```

---

## 2. SpamProtection - Обнаружение спама

### Нормальное состояние
```
┌──────────────────────────────────────────────────────┐
│ ✅ Проверка пройдена                                │
├──────────────────────────────────────────────────────┤
│ Контент прошел проверку на спам                     │
└──────────────────────────────────────────────────────┘
Цвет: Зелёный (#10B981)
```

### Спам обнаружен
```
┌──────────────────────────────────────────────────────┐
│ 🚫 Обнаружена подозрительная активность             │
├──────────────────────────────────────────────────────┤
│ Слишком много ссылок                                │
│                                                      │
│ Уровень подозрительности: [85%]                     │
│                                                      │
│ 🛡️ Проверьте введенные данные и попробуйте еще раз.│
│    Если вы считаете, что это ошибка, обратитесь в   │
│    службу поддержки.                                │
└──────────────────────────────────────────────────────┘
Цвет: Красный (#EF4444)
Badge: Красный если > 75%, Жёлтый если 50-75%
```

---

## 3. SecurityDashboard - Панель мониторинга

```
┌─────────────────────────────────────────────────────────────────────┐
│  🛡️ Панель безопасности                                            │
│  Мониторинг защиты от спама и rate limiting                         │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌───────────┐ ┌───────────┐ ┌───────────┐ ┌───────────┐         │
│  │ 📊        │ │ 🚫        │ │ ⚠️        │ │ 🛡️        │         │
│  │ Всего     │ │ Заблок.   │ │ Спам      │ │ Активных  │         │
│  │ попыток   │ │           │ │ блокиров. │ │ пользов.  │         │
│  │           │ │           │ │           │ │           │         │
│  │   156     │ │    23     │ │    12     │ │    45     │         │
│  │ За 24 ч   │ │ ██░░ 15%  │ │ Подозр.   │ │ Уникальн. │         │
│  └───────────┘ └───────────┘ └───────────┘ └───────────┘         │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│  📊 Статус Rate Limiting                                           │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ┌──────────────────────────────────────────────────────┐          │
│  │ 🔓 Блокировок нет                      [Активно]    │          │
│  └──────────────────────────────────────────────────────┘          │
│                                                                     │
│  Лимит входов: 5 попыток / 15 мин                                 │
│  Лимит регистраций: 3 попытки / 1 час                             │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│  ⏰ Недавние события безопасности                                  │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  🚫  Неудачная попытка входа                        14:23:45       │
│      Неверные учетные данные                                       │
│                                                                     │
│  ✅  Успешный вход                                  14:20:12       │
│      Пользователь авторизован                                      │
│                                                                     │
│  ⚠️  Подозрительная активность                      14:15:33       │
│      Множественные попытки входа                                   │
│                                                                     │
├─────────────────────────────────────────────────────────────────────┤
│  🛡️ Система защиты от спама                                        │
│  6-уровневая защита активна                                        │
├─────────────────────────────────────────────────────────────────────┤
│                                                                     │
│  ● URL фильтр            ● Паттерн анализ      ● Спецсимволы      │
│  ● Дубликаты             ● Ключевые слова      ● Honeypot         │
│                                                                     │
└─────────────────────────────────────────────────────────────────────┘
```

---

## 4. ProtectedForm - Защищённая форма

```
┌──────────────────────────────────────────────────────┐
│  Отправить показания счётчиков                      │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ⚠️  Внимание: осталось попыток         3 / 5       │
│  ████████████░░░░░░░░░░░░░░░░░░░          60%       │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ Показания счётчика *                           │ │
│  │ [_________________________________________]     │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ Примечания (опционально)                       │ │
│  │ [                                            ] │ │
│  │ [                                            ] │ │
│  │ [                                            ] │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │       🛡️ Отправить показания                  │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  🛡️ Защищено Rate Limiting и Anti-Spam             │
│                                                      │
└──────────────────────────────────────────────────────┘
```

---

## 5. AntiSpamMonitor - Плавающий монитор

```
                                     ┌──────────────────────┐
                                     │ 🛡️ Защита активна   │
                                     ├──────────────────────┤
                                     │ Заблокировано: [5]  │
                                     │ Недавних: [2]       │
                                     │ Последняя: 14:23    │
                                     └──────────────────────┘
                                              ↑
                                     Плавает справа внизу
```

---

## 6. Примеры в реальных формах

### Форма входа (AuthScreen)
```
┌──────────────────────────────────────────────────────┐
│              🏢 Вход в систему                       │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ⚠️  Внимание: осталось попыток         2 / 5       │
│  ████░░░░░░░░░░░░░░░░░░░░░░░░░░░░         40%       │
│  🛡️ При превышении лимита доступ будет              │
│     заблокирован на 30 минут.                        │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ 📱 Номер телефона                              │ │
│  │ +7 [___] ___-__-__                             │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ 🔒 PIN-код                                     │ │
│  │ [●●●●●●]                                  👁️   │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  □ Запомнить меня                                   │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │           🔐 Войти                             │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
└──────────────────────────────────────────────────────┘
```

### Форма заявки (RequestsPage)
```
┌──────────────────────────────────────────────────────┐
│              🔧 Подать заявку на ремонт              │
├──────────────────────────────────────────────────────┤
│                                                      │
│  ⓘ  Внимание: осталось попыток         8 / 10       │
│  ████████████████░░░░░░░░░░░░            80%         │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ Название проблемы                              │ │
│  │ [Не работает отопление________________]        │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │ Описание                                       │ │
│  │ [В квартире холодно, батареи не греют      ] │ │
│  │ [                                            ] │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
│  ┌────────────────────────────────────────────────┐ │
│  │       🔧 Отправить заявку                     │ │
│  └────────────────────────────────────────────────┘ │
│                                                      │
└──────────────────────────────────────────────────────┘
```

---

## 7. Цветовая схема

### Rate Limit Indicator
```
Состояние       Цвет фона         Цвет текста      Цвет прогресса
────────────────────────────────────────────────────────────────────
80-100%         -                 -                -
60-80%          bg-blue-50        text-blue-900    bg-blue-600
40-60%          bg-yellow-50      text-yellow-900  bg-yellow-600
0-40%           bg-red-50         text-red-900     bg-red-600
Заблокировано   bg-red-50         text-red-900     -
```

### Spam Protection
```
Состояние       Цвет фона         Цвет текста      Badge
────────────────────────────────────────────────────────────────────
Безопасно       bg-green-50       text-green-900   -
Спам > 75%      bg-red-50         text-red-900     bg-red-600
Спам 50-75%     bg-red-50         text-red-900     bg-yellow-600
Спам < 50%      bg-red-50         text-red-900     bg-orange-600
```

### Security Dashboard
```
Карточка        Цвет градиента
────────────────────────────────────────────────────────────────────
Всего попыток   from-blue-50 to-white
Заблокировано   from-red-50 to-white
Спам            from-yellow-50 to-white
Активные        from-green-50 to-white
```

---

## 8. Иконки

```
Компонент                   Иконка
──────────────────────────────────────────────────
RateLimitIndicator          ⚠️ AlertCircle
  - Внимание                🛡️ Shield
  - Заблокировано           🚫 Ban
  - Таймер                  ⏰ Clock

SpamProtection              🚫 Ban
  - Успех                   ✅ CheckCircle2
  - Защита                  🛡️ Shield

SecurityDashboard
  - Активность              📊 Activity
  - Блокировка              🚫 Ban
  - Предупреждение          ⚠️ AlertTriangle
  - Защита                  🛡️ Shield
  - Вход                    🔓 Unlock
  - Блокировка              🔒 Lock
  - Время                   ⏰ Clock
  - Тренд                   📉 TrendingDown

ProtectedForm               🛡️ Shield
  - Загрузка                ⏳ Loader2
```

---

## 9. Анимации

### RateLimitIndicator
```
Прогресс-бар:
  transition-all duration-300 ease-in-out
  
Появление индикатора:
  fade-in + slide-down
  duration: 200ms
  
Цветовые переходы:
  transition-colors duration-300
```

### SpamProtection
```
Появление:
  fade-in
  duration: 150ms
  
Badge pulse при высокой угрозе (> 75%):
  animate-pulse
```

### SecurityDashboard
```
Обновление чисел:
  count-up animation
  duration: 500ms
  
Новое событие:
  highlight-flash
  background: yellow → transparent
  duration: 1000ms
```

---

## 10. Адаптивность

### Mobile (< 640px)
```
┌─────────────────────┐
│ ⚠️ Осталось: 3/5   │
│ ████████░░  60%    │
│                     │
│ Предупреждение      │
│ на 2 строки         │
└─────────────────────┘

Изменения:
- Компактный заголовок
- Прогресс-бар на всю ширину
- Стек-лейаут
```

### Tablet (640px - 1024px)
```
┌──────────────────────────────────┐
│ ⚠️  Внимание: осталось    3 / 5  │
│ ████████████░░░░░░░░       60%   │
│                                   │
│ 🛡️ Будьте внимательны            │
└──────────────────────────────────┘

Изменения:
- Средний размер
- Flex-лейаут
```

### Desktop (> 1024px)
```
┌─────────────────────────────────────────────────┐
│ ⚠️  Внимание: осталось попыток       3 / 5     │
├─────────────────────────────────────────────────┤
│ ████████████░░░░░░░░░░░░░░░░        60%        │
│                                                 │
│ 🛡️ Будьте внимательны при вводе данных.       │
└─────────────────────────────────────────────────┘

Изменения:
- Полный размер
- Детальное описание
- Grid-лейаут для dashboard
```

---

## 11. Состояния интерактивности

### Кнопка отправки

**Нормальное состояние:**
```
┌────────────────────────┐
│   🛡️ Отправить        │
└────────────────────────┘
Цвет: bg-blue-600
Курсор: pointer
```

**Disabled (заблокировано):**
```
┌────────────────────────┐
│   🛡️ Отправить        │
└────────────────────────┘
Цвет: bg-gray-400
Курсор: not-allowed
Opacity: 0.5
```

**Загрузка:**
```
┌────────────────────────┐
│   ⏳ Отправка...       │
└────────────────────────┘
Цвет: bg-blue-600
Спиннер: animate-spin
```

---

## 12. Тёмная тема (опционально)

```css
/* RateLimitIndicator - Dark Mode */
.dark .rate-limit-warning {
  background: from-yellow-900/20 to-transparent;
  border-color: yellow-700;
  color: yellow-200;
}

/* SpamProtection - Dark Mode */
.dark .spam-alert {
  background: from-red-900/20 to-transparent;
  border-color: red-700;
  color: red-200;
}

/* SecurityDashboard - Dark Mode */
.dark .security-card {
  background: from-gray-800 to-gray-900;
  border-color: gray-700;
}
```

---

## 🎨 Финальный результат

Ваше приложение получит:

✅ **Профессиональный дизайн**
- Современные цвета
- Плавные анимации
- Адаптивный layout

✅ **Отличный UX**
- Понятные индикаторы
- Своевременные предупреждения
- Информативные сообщения

✅ **Безопасность**
- Видимая защита
- Доверие пользователей
- Предотвращение атак

---

**Версия:** 1.0.0  
**Дата:** 30 ноября 2025  
**Статус:** ✅ Готово к использованию
